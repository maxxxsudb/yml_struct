DO BEGIN
    -- >>> ВСТАВЬТЕ СЮДА СКОПИРОВАННУЮ СТРОКУ <<<


    -- ЭТОТ КОД НЕ ТРОГАЙТЕ
    CREATE LOCAL TEMPORARY TABLE #CHECK_LIST AS (SELECT "CMD" FROM UNNEST(:GRANTS_ARRAY) AS T("CMD"));
    SELECT T1.ROLE_NAME AS "ОТСУТСТВУЮЩАЯ РОЛЬ"
    FROM (
        SELECT DISTINCT SUBSTRING_REGEXPR('(?<=")(.*?)(?=")' IN CMD) AS ROLE_NAME FROM #CHECK_LIST
    ) AS T1
    LEFT JOIN "SYS"."ROLES" AS T2 ON T1.ROLE_NAME = T2.ROLE_NAME
    WHERE T2.ROLE_NAME IS NULL;
    DROP TABLE #CHECK_LIST;
END;
